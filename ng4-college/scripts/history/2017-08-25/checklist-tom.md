# COLLEGE DanMu

pub-date: **2017-08-25**

## ¶ college Checklist

### 1.cf-admin 弹幕问答table & api 0.5天

#### 功能检查项

  - [ ] 新增问题表 & API
  - [ ] 新增问题回答表 & API
        创建新回答API 调用wechat消息接口


#### 开发检查项

  - [ ] `B` `ADD` `models` models/cf-college/user/question
  - [ ] `B` `ADD` `services` services/cf-college/user/question
  - [ ] `B` `ADD` `routes` routes/cf-college/user/question

### 2.cf-admin 弹幕问答管理页 加起来2天

#### 弹幕问答列表页 0.5天

  - [ ] 筛选功能：
          按问题状态：全部、未回答、已回答
          按时间筛选：时间控件，按提问日期筛选

  - [ ] 列表页信息字段：
          提问日期、提问者、问题ID、问题内容、回答（回答个数、回答内容、问题状态、回答者）、操作

  - [ ] 内容显示：
          每个回答取两行显示
          回答按时间倒序来排
          问题状态分为已上架、未上架。
          回答者取回答问题的运营者后台账号。

  - [ ] 功能：
            删除：
                点击删除问题后弹窗提示 「你确定删除#用户微信名#的问题吗？」
            批量删除：
                用户点击“批量删除”，出复选框和确定删除按钮，批量删除按钮变成-取消勾选。并出提示：请先删除当前页面勾选项再换页！
                选择相应要删除的问答后，点击确定删除，出确认弹框----你确定要删除#问题数量#个问题吗？----确定后批量删除。当前页面删除后才可换页。
                再次点击“取消勾选”，确认删除按钮和复选框消失，取消勾选按钮变为-批量删除
            详情&回答：
                跳转对应问题问答详情页

#### 弹幕问答详情页 1.5天

  - [ ] 回答模块：
        显示：
          回答中显示 回答状态（未上架、已上架）、回答者、回答日期、回答内容。
          交互：①当鼠标悬浮在未上架状态上时，显示上架按钮，用户点击后状态变为已上架-弹 窗提示已成功上架该答案。 ②当鼠标悬浮在已上架状态，显示下架按钮，用户点击后状态变为未上架-弹窗提示已成功下架该答案。上架后的答案，将会和问题一起显示在前台弹幕。
          对于运营者提供答案编辑权限。
        编辑：
          对于详情页提供答案编辑功能。点击编辑后，上架状态隐藏，答案变为文本框可改状态，提供保存和取消。保存后，修改的答案同步到答案详情中。取消则变为编辑前的状态。
          对于回复给用户的答案，二次编辑后将不会再次发送给用户。
        我要回答：
          答案必填，运营者一旦点击确认答案---出提示弹框--确认后----调用服务号模板消息的接口，将答案以模板消息形式直接回复给提问用户，并同步到问题详情-答案栏目和弹幕管理页。默认状态未上架。如果运营者编辑答案，则不会再次发送给用户！！！


#### 开发检查项

  - [ ] `F` `ADD` `components` public/cf-college/user/qa
