<div class="apply" ng-class="{ 'no-scroll' : (vm.applySuccess || vm.noResume)}">
  <page-title title="投递职位"></page-title>
  <form class="apply-form" name="applyForm" novalidate>
    <div class="apply-entry">
      <div class="apply-entry-title">
        <div>
          <i class="iconfont apply-entry-caret icon-pen-" aria-hidden="true"></i>
          <span>请输入邮件标题</span>
        </div>
        <span class="error-msg" ng-messages="applyForm.title.$error" ng-if='vm.submitted'>
          <span ng-message="required">必填</span>
        <span ng-message="maxlength">字符过长</span>
        </span>
      </div>

      <textarea class="apply-input" name="title" rows="1" msd-elastic ng-model="vm.title" ng-required="true" ng-maxlength="60" maxlength="60" ng-change="vm.saveParamsToSession()"></textarea>
      <div class="apply-tip">
        请输入姓名+学校+专业+毕业时间<br/> 例：张三+清华大学+食品工程+2017年7月毕业
      </div>
    </div>
    <div class="apply-entry">
      <div class="apply-entry-title">
        <div>
          <i class="iconfont apply-entry-caret icon-shubiao-" aria-hidden="true"></i>
          <span>请选择你要投递的简历</span>
        </div>
        <span class="error-msg bounceIn" ng-if="vm.submitted && vm.resumeAnimationStatus && !vm.attachmentIds.length">必选</span>
      </div>
      <div class="resume-list-container">
        <div class="apply-input resume-entry" ng-click="vm.toggleResume(resume)" ng-repeat="resume in vm.resumeList">
          <div class="radio" ng-class="{checked: resume.checked}">
            <div class="point">

            </div>
          </div>
          <span class="resume-name">{{resume.originalName}}</span>
        </div>
      </div>
    </div>

    <div class="apply-entry mobile-entry">
      <div class="apply-entry-title">
        <div>
          <i class="iconfont apply-entry-caret icon-shubiao-" aria-hidden="true"></i>
          <span>请输入你的手机</span>
        </div>
        <span class="error-msg" ng-messages="applyForm.mobile.$error" ng-if='vm.submitted'>
          <span ng-message="required">必填</span>
        <span ng-message="pattern">格式不对</span>
        </span>
      </div>
      <div class="wrap">
        <span ng-click="vm.selectPrefix()" class="prefix">{{vm.prefix.value}}
          <i class="iconfont icon-sanjiaojiantouxia" aria-hidden="true"></i>
        </span>
        <input type="text" ng-change="vm.saveParamsToSession()" class="apply-input" ng-required="true" name="mobile" ng-pattern='vm.mobileReg' ng-model="vm.mobile">
      </div>
      <div class="apply-tip email-tip">
        手机是HR联系你的重要方式~
      </div>
    </div>

    <div class="apply-entry">
      <div class="apply-entry-title">
        <div>
          <i class="iconfont apply-entry-caret icon-pen-" aria-hidden="true"></i>
          <span>请输入你的邮箱</span>
        </div>
        <span class="error-msg" ng-messages="applyForm.email.$error" ng-if='vm.submitted && !vm.multiple'>
          <span ng-message="required">必填</span>
          <span ng-message="pattern">格式不对</span>
        </span>
        <span class="error-msg" ng-if='vm.submitted && vm.multiple'>
          <span>仅限填写一个邮箱</span>
        </span>
      </div>
      <input type="text" class="apply-input" ng-model-options="{allowInvalid: true}" ng-change="vm.saveParamsToSession()" ng-required="true" ng-pattern='vm.emailReg' name="email" ng-model="vm.email">
      <div class="apply-tip email-tip">
        关于职位的后续反馈将通过邮箱通知！<br/> 请确认输入无误哦～
      </div>
    </div>
    <button class="apply-btn" ng-click="vm.submit()">立即投递</button>
  </form>
  <div class="modal-wrapper" ng-cloak ng-show="vm.applySuccess || vm.noResume">
    <div class="info-modal apply-success" ng-show="vm.applySuccess">
      <div class="title">投递成功</div>
      <div class="apply-success-pic"></div>
      <div class="apply-success-text">
        简历已火速到达HR邮箱<br/> 你可在个人中心查看最新投递进程！
      </div>
      <button class="apply-success-ok" ng-click="vm.goBack()">返回职位</button>
    </div>
    <div class="info-modal no-resume" ng-show="vm.noResume" ng-class="{'uk-tour': vm.isUKTour}">
      <div class="no-resume-pic"></div>
      <div class="no-resume-text">
        你还未上传简历，快用电脑登录
        <div class="clipboard-paste">
          <input type="text" ng-model="vm.pasteUrl"><button ng-click-copy="vm.pasteUrl" ng-click="vm.copyLink()" ng-class="{'enabled': !vm.isUKTour && !vm.copyed}">复制</button>
        </div>
        极速上传，一键投递
      </div>
      <button class="no-resume-ok" ng-click="vm.goBack()">知道了</button>
    </div>
  </div>
</div>
