<section class="main-content clearfix">
  <div class="tool-side-bar" ng-if="!vm.params.keyword">
    <calendar date="vm.params.applyStart"></calendar>
    <dl>
      <dt>
        <h3>校招状态</h3>
      </dt>
      <dd ng-click="vm.selectStatus()" ng-class="{'active': !vm.params.applyStatus}">
        <a href="javascript:;">全部</a>
      </dd>
      <dd ng-click="vm.selectStatus(1)" ng-class="{'active': vm.params.applyStatus === 1}" class="subscribe">
        <a href="javascript:;">
          未开始
          <svg class="icon" aria-hidden="true"><use xlink:href="#icon-kedingyue-"></use></svg>
        </a>
      </dd>
      <dd ng-click="vm.selectStatus(2)" ng-class="{'active': vm.params.applyStatus === 2}">
        <a href="javascript:;">进行中</a>
      </dd>
      <dd ng-click="vm.selectStatus(3)" ng-class="{'active': vm.params.applyStatus === 3}">
        <a href="javascript:;">已结束</a>
      </dd>
    </dl>
    <dl class="industry-list" ng-cloak>
      <dt>
        <h3>行业</h3>
      </dt>
      <dd ng-repeat="category in vm.industryList" ng-click="vm.selectIndustry(category)" ng-class="{allTags: $index === 0, active: category.id === vm.params.industryId, hideTag: ($index > vm.limit && vm.expandIndustryList)}">
        <a>{{category.name}}</a>
      </dd>

      <dd class="show-more-tag-btn" ng-show="vm.expandIndustryList" ng-click="vm.showAllTags()">
        <svg class="icon" aria-hidden="true"><use xlink:href="#icon-more"></use></svg>展开更多
      </dd>
    </dl>

  </div>
  <div class="main-list clearfix" ng-class="{'result-is-null': !vm.totalItems, 'search-status': vm.params.keyword}">
    <p class="list-count">
      符合筛选结果的有<span ng-bind="vm.totalItems"></span>家
    </p>

    <div class="campus-recruit-detail" ng-repeat="c in vm.companyArray" ng-click="vm.gotoCompany(c.id)" ng-cloak>
      <div class="company-info">
        <img ng-src="{{c.imageUrl}}" alt="" ng-if="c.imageUrl">
        <img src="http://static.careerfrog.com.cn/cf-college/images/default-logo.82afb15d.png" alt="" ng-if="!c.imageUrl">
        <ul class="info">
          <li class="name" ng-bind="c.name"></li>
          <li ng-if="c.industry">行业：<span ng-bind="c.industry.name"></span></li>
          <li ng-if="c.size">规模：<span ng-bind="c.size.name"></span></li>
        </ul>
      </div>
      <p class="introduction">{{c.text}}</p>
      <div class="date-info" ng-if="c.opportunity.applyStatus ==='waiting'">
        <span>预计时间：{{c.opportunity.applyStart}} ~ {{c.opportunity.applyEnd}}</span>
        <div>
          <div class="subscription-btn subscriptioned-btn" ng-click="vm.subscribe($event, c)" ng-if="!c.subscriptionStatus">
            <svg class="icon close-btn" aria-hidden="true">
    <use xlink:href="#icon-naoling-"></use>
  </svg> 订阅提醒
          </div>
          <div class="subscription-btn " ng-if="c.subscriptionStatus">
            <svg class="icon close-btn" aria-hidden="true">
    <use xlink:href="#icon-naoling-"></use>
  </svg> 已订阅
          </div>
        </div>

      </div>
      <p class="date-info" ng-if="c.opportunity.applyStatus ==='ongoing'">
        <span>校招时间：{{c.opportunity.applyStart}} ~ {{c.opportunity.applyEnd}}</span>
      </p>
      <p class="date-info" ng-if="c.opportunity.applyStatus ==='finished'">
        <span>校招时间：{{c.opportunity.applyStart}} ~ {{c.opportunity.applyEnd}}</span>
      </p>
      <span class="status plan" ng-if="c.opportunity.applyStatus ==='waiting'">未开始</span>
      <span class="status proceed" ng-if="c.opportunity.applyStatus ==='ongoing'">进行中</span>
      <span class="status finished" ng-if="c.opportunity.applyStatus ==='finished'">已结束</span>
    </div>
    <div class="pagination-wrap" ng-if="vm.totalPages > 1">
      <uib-pagination id="pagination" class="pagination-sm clearfix" previous-text="上一页" next-text="下一页" total-items="vm.totalItems" items-per-page="vm.itemsPerPage" ng-model="vm.pageNum" max-size="6" ng-change="vm.pageChanged()" force-ellipses="true"></uib-pagination>
    </div>
  </div>

</section>